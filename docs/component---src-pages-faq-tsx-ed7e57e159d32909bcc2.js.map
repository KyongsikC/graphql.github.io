{"version":3,"file":"component---src-pages-faq-tsx-ed7e57e159d32909bcc2.js","mappings":"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","sources":["webpack:///./src/components/FAQSection/index.tsx","webpack:///./src/pages/faq.tsx","webpack:///./src/utils/useFAQAccordion.ts"],"sourcesContent":["import React from \"react\"\nimport Marked from \"../Marked\"\n\ninterface Props {\n  title: string\n  rawMarkdownBody: string\n  pageContext: any\n}\n\nconst FAQSection = ({\n  title,\n  rawMarkdownBody,\n  pageContext\n}: Props) => (\n  <section className=\"inner-faq-content\">\n    <h2>{title}</h2>\n    <Marked pageContext={pageContext}>{rawMarkdownBody}</Marked>\n  </section>\n)\n\nexport default FAQSection\n","import React from \"react\"\nimport Layout from \"../components/Layout\"\nimport FAQSection from \"../components/FAQSection\"\nimport type { PageProps } from \"gatsby\"\nimport { graphql } from \"gatsby\"\nimport { useFAQAccordion } from \"../utils/useFAQAccordion\"\n\nexport default ({ pageContext, data }: PageProps<GatsbyTypes.GetAllFAQSectionsQuery, GatsbyTypes.SitePageContext>) => {\n  useFAQAccordion()\n\n  const sections = data.allMarkdownRemark.edges\n    .map(e => e.node)\n    .sort((a, b) => {\n      const aPosition = a?.frontmatter?.position ?? 0\n      const bPosition = b?.frontmatter?.position ?? 0\n      if (aPosition < bPosition) {\n        return -1\n      }\n      return 1\n    })\n\n  return (\n    <Layout title=\"FAQ | GraphQL\" pageContext={pageContext}>\n    <section>\n      <div className=\"documentationContent\">\n        <section className=\"inner-faq-content\">\n          <h1>Frequently Asked Questions (FAQ)</h1>\n          <div>\n            {sections.map(\n              (\n                {\n                  frontmatter: { title } = {},\n                  rawMarkdownBody,\n                },\n              i\n            ) => (\n              <FAQSection\n                key={i}\n                title={title!}\n                rawMarkdownBody={rawMarkdownBody!}\n                pageContext={pageContext}\n              />\n            )\n            )}\n          </div>\n        </section>\n      </div>\n    </section>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n  query GetAllFAQSections {\n    allMarkdownRemark(\n      filter: { frontmatter: { permalink: { regex: \"/faq/\" } } }\n    ) {\n      edges {\n        node {\n          frontmatter {\n            title\n            position\n          }\n          id\n          rawMarkdownBody\n        }\n      }\n    }\n  }\n`\n","import React, { useEffect, useState } from \"react\"\n\nconst nextUntil = (elem: any, selector: string) => {\n  const siblings = []\n  let nextElement = elem.nextElementSibling\n\n  while (nextElement) {\n    if (nextElement.matches(selector)) break\n\n    siblings.push(nextElement)\n\n    nextElement = nextElement.nextElementSibling\n  }\n\n  return siblings\n}\n\nexport const useFAQAccordion = () => {\n  const [buttonCreated, setButtonCreated] = useState(false)\n  const toggleChildrenClass = (element: React.ReactNode) => {\n    Array.from(nextUntil(element, \"button\")).map(p =>\n      p.classList.toggle(\"show\")\n    )\n  }\n\n  useEffect(() => {\n    const hash = window.location.hash ? window.location.hash.split(\"#\")[1] : \"\"\n\n    if (hash && buttonCreated) {\n      const anchor = document && document.getElementById(hash)\n      const heading: any = anchor && anchor.parentNode\n\n      if (heading) {\n        heading.parentNode.classList.toggle(\"open\")\n        heading.classList.toggle(\"open\")\n        toggleChildrenClass(heading.parentNode)\n      }\n    }\n  }, [buttonCreated])\n\n  useEffect(() => {\n    const allH3 = document.querySelectorAll(\"h3\")\n\n    Array.from(allH3).forEach(h3 => {\n      const button = document.createElement(\"button\")\n      button.classList.add(\"faq-button-question\")\n      h3.parentNode?.insertBefore(button, h3)\n      button.appendChild(h3)\n      setButtonCreated(true)\n    })\n  }, [])\n\n  useEffect(() => {\n    const toggleClasses = (e: any) => {\n      if (e.target.localName !== \"button\" && e.target.localName !== \"h3\") return\n\n      const element =\n        e.target.localName === \"button\" ? e.target : e.target.parentNode\n\n    \n      window.history.replaceState(\n        {},\n        \"\",\n        \"#\" + e.target.getElementsByTagName(\"a\")[0].id\n      )\n      window.history.scrollRestoration = \"manual\"\n\n      if (e.target.localName === \"button\") {\n        e.target.classList.toggle(\"open\")\n        e.target.getElementsByTagName(\"h3\")[0].classList.toggle(\"open\")\n      } else {\n        e.target.classList.toggle(\"open\")\n        e.target.parentNode.classList.toggle(\"open\")\n      }\n\n      toggleChildrenClass(element)\n    }\n\n    document.addEventListener(\"click\", toggleClasses)\n\n    return () => document.removeEventListener(\"click\", toggleClasses)\n  }, [typeof window !== 'undefined' ? window.location.hash : null])\n}"],"names":["title","rawMarkdownBody","pageContext","className","buttonCreated","setButtonCreated","toggleChildrenClass","data","useState","element","Array","from","elem","selector","siblings","nextElement","nextElementSibling","matches","push","nextUntil","map","p","classList","toggle","useEffect","hash","window","location","split","anchor","document","getElementById","heading","parentNode","allH3","querySelectorAll","forEach","h3","button","createElement","add","insertBefore","appendChild","toggleClasses","e","target","localName","history","replaceState","getElementsByTagName","id","scrollRestoration","addEventListener","removeEventListener","sections","allMarkdownRemark","edges","node","sort","a","b","frontmatter","position","Layout","i","FAQSection","key"],"sourceRoot":""}